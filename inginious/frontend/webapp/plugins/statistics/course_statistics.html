$def with (course, statisticsJson)

$var title: $:course.get_name() - Statistics

$def NavbarF():
    <ol class="nav navbar-nav nav-breadcrumb">
      <li><a href="$get_homepath()/course/$course.get_id()">$course.get_name()</a></li>
      <li class="active"><a href="#">Course statistics <span class="sr-only">(current)</span></a></li>
    </ol>

$var Navbar: $:NavbarF()

<h3>Statistics for course: $:course.get_name()</h3>
<div class="list-group">
    <h4>Submissions by Verdict</h4>
    <div id="statisticsVerdict" class="statistics-verdict" style="height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
    <div class="normalize" id="normalize_statistics_verdict" style="display: flex;justify-content: center;">
      <button style="background-color: white;padding: 8px 15px;text-align: center;font-size: 12px;"
      onclick="plotVerdictStatistics('statisticsVerdict',$statisticsJson)">
          Toggle normalize
        </button>
    </div>
    <h4>Best Submissions by Verdict</h4>
    <div id="bestStatisticsVerdict" class="best-statistics-verdict" style="height: 500px;"><!-- Plotly chart will be drawn inside this DIV --></div>
    <div class="normalize" id="normalize_best_statistics_verdict" style="display: flex;justify-content: center;">
      <button style="background-color: white;padding: 8px 15px;text-align: center;font-size: 12px;"
      onclick="plotBestVerdictStatistics('bestStatisticsVerdict',$statisticsJson)">
          Toggle normalize
        </button>
    </div>

    <h4>Submissions by grade</h4>
    <div id="statisticsGradeDiv" class="statistics-grade"></div>

    <h4>Final grade distribution</h4>
    <div id="statisticsGradeDistributionDiv" class="statistics-grade"></div>
</div>



<script type="text/javascript">
  var statistics = $:(statisticsJson);

  $$(function() {

    plotVerdictStatistics("statisticsVerdict", statistics);

  });

  $$(function() {
    plotBestVerdictStatistics("bestStatisticsVerdict", statistics);
    plotGradeStatistics("statisticsGradeDiv", statistics.by_grade_count);
    plotGradeDistributionStatistics("statisticsGradeDistributionDiv", statistics.by_grade_distribution);

  });
</script>
