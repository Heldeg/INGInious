let studio_grader_test_case_sequence=0,grader_test_cases_count=0;function studio_add_test_case_from_form(){studio_add_test_case({input_file:$("#grader_test_case_in").val(),output_file:$("#grader_test_case_out").val()})}function studio_add_test_case(e){e=$.extend({input_file:null,output_file:null,weight:1,diff_shown:!1},e);let t=studio_grader_test_case_sequence,_=e.input_file,a=e.output_file;if(!_||!a)return;let s=$("#test_case_template").html().replace(/TID/g,t),r=$(s);r.find("#grader_test_cases_"+t+"_input_file").val(_),r.find("#grader_test_cases_"+t+"_output_file").val(a),r.find("#grader_test_cases_"+t+"_weight").val(e.weight),r.find("#grader_test_cases_"+t+"_diff_shown").prop("checked",e.diff_shown),studio_grader_test_case_sequence++,1==++grader_test_cases_count&&$("#grader_test_cases_header").show(),$("#grader_test_cases_container").append(r)}function studio_load_grader_test_cases(e){$.each(e,function(e,t){studio_add_test_case(t)})}function studio_remove_test_case(e){$("#grader_test_cases_"+e).remove(),0==--grader_test_cases_count&&$("#grader_test_cases_header").hide()}function studio_update_grader_problems(){let e=$("#accordion"),t=[];$.each(e.children(),function(e,_){let a=_.id;if(!a.startsWith("subproblem_well_"))throw new Error("Unable to process problem well: "+a);let s=a.substring("subproblem_well_".length),r=$(_).find("[name='problem["+s+"][type]']").val();t.push({id:s,type:r})});let _=$("#grader_problem_id"),a=_.val();_.empty(),$.each(t,function(e,t){"code_multiple_languages"!==t.type&&"code_file_multiple_languages"!==t.type||_.append($("<option>",{value:t.id,text:t.id}))}),_.val(a)}function studio_set_initial_problem(e){let t="",_=$("#grader_problem_id");$("#generate_grader").is(":checked")&&e&&(t=e,_.append($("<option>",{value:e,text:e}))),_.val(t)}function studio_update_grader_files(){$.get("/api/grader_generator/test_file_api",{course_id:courseId,task_id:taskId},function(e){let t=$("#grader_test_case_in"),_=$("#grader_test_case_out"),a=$("#testbench_file_name"),s=$("#hdl_expected_output");t.empty(),_.empty(),a.empty(),s.empty(),$.each(e,function(e,r){if(r.is_directory)return;let d=$("<option>",{value:r.complete_name,text:r.complete_name});t.append(d),_.append(d.clone()),a.append(d.clone()),s.append(d.clone())})},"json")}function studio_update_container_name(){let e=$("#environment").val(),t=$(".grader_form");for(let e=0;e<t.length;e++)t[e].style.display="none";if("HDL"===e)try{$("#hdl_grader_form")[0].style.display="block"}catch{}if("multiple_languages"===e)try{$("#multilang_grader_form")[0].style.display="block"}catch{}}function read_files_and_match(){}