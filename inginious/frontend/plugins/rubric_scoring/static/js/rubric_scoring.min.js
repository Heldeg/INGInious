jQuery(document).ready(function(){if(document.location.href.match(/submission/)){const c={java7:"java",java8:"java",cpp:"cpp",cpp11:"cpp",c:"c",c11:"c",python3:"python",vhdl:"vhdl",verilog:"verilog"};if("Notebook"===environment())$.ajax({url:url_request(),method:"GET",dataType:"json",success:function(e){render_notebook(e)}});else{const e=$("#myTextCode")[0];$("#myTextCodeArea").show();const t=c[e.getAttribute("data-language")];registerCodeEditor(e,t,20).setOption("readOnly","nocursor")}$("#info").click(function(){$("#text-context").collapse("toggle")});let a=0,r=[];for(let o=0;o<5;o++){r[o]=[];for(let c=0;c<5;c++)r[o][c]=document.getElementById(o+"-"+c),r[o][c].addEventListener("click",function(){var e;t(o),e=o+"-"+c,document.getElementById(e).classList.add("box1"),a+=.2*(c+1),n()}),r[o][c].addEventListener("dblclick",function(){e(o+"-"+c),a-=.2*(c+1),n()}),r[o][c].addEventListener("mouseover",function(){document.body.style.cursor="pointer"}),r[o][c].addEventListener("mouseout",function(){document.body.style.cursor="default"})}function e(e){document.getElementById(e).classList.remove("box1")}function t(t){for(let n=0;n<5;n++)if(r[t][n].classList.contains("box1")){e(`${t}-${n}`),a-=.2*(n+1);break}}function n(){document.getElementById("output").innerHTML="Current Score: "+a.toFixed(1)}function o(e,t,n){let o=getAlertCode(e,t,n),c=document.getElementById("grade_edit_submit_status");if(document.getElementById("grade_edit_submit_status").innerHTML=o,c.style.display="block",n){let e=1,t=setInterval(function(){e<=.1&&(clearInterval(t),c.style.display="none"),c.style.opacity=e,c.style.filter="alpha(opacity="+100*e+")",e-=.05*e},50)}}window.save=function(){jQuery.ajax({success:function(e){!function(){let e=document.getElementById("text_comment");e.value.length>1e3?o("Error at saving Comment, comment to long, max length of comment is 1000.","warning",!0):jQuery.ajax({success:function(e){o("Successfully saved","info",!0)},method:"POST",data:{comment:e.value},error:function(e,t,n){o("Error at saving Comment, please try again.","danger",!0)}})}(),o("Submission graded and stored","info",!0)},method:"POST",data:{grade:a},error:function(e,t,n){o("Something went wrong","danger",!0)}})}}load_feedback_code()});