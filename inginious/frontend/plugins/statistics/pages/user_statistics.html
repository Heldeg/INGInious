$def with(course_id)

$var title: My Statistics

<ul class="nav nav-tabs">
    <li class="active"><a id="trials-circle-tab" data-toggle="tab" href="#trials-circle">Trials and Best Grade</a></li>
    <li><a id="bar-submissions-per-tasks-tab" data-toggle="tab" href="#bar-submissions-per-tasks">Bar Submissions Per Tasks</a></li>
</ul>

<div class="tab-content">
    <div id="trials-circle" class="tab-pane fade in active">
        <h3>Trials and Best Grade</h3>
        <div id="tries_per_task" class="statistics-plot"><!-- Plotly chart will be drawn inside this DIV --></div>
        <a href='#'  class="download_csv" onclick='UserStatistics.trialsAndBestGradeStatistic.downloadCsvAsync();'>Download CSV</a>
    </div>
    <div id="bar-submissions-per-tasks" class="tab-pane fade">
        <h3>Bar Submissions Per Tasks</h3>
        <div id="submissions_per_task" class="statistics-plot"><!-- Plotly chart will be drawn inside this DIV --></div>
        <div id="normalize_submissions_per_task" class="normalize">
          <button class="toggle_button" onclick="UserStatistics.barSubmissionsPerTasks.toggleNormalize()">
                  Toggle normalize
          </button>
        </div>
        <a href='#' class="download_csv" onclick='UserStatistics.barSubmissionsPerTasks.downloadCsvAsync();'>Download CSV</a>
    </div>
</div>

<script>
    function getCourseId() {
       return "$:course_id";
    }

    // Checking if csv download function exist in the code
    var download_csv_buttons = document.getElementsByClassName('download_csv');
    for(let it = 0; it < download_csv_buttons.length; it++){
        element = download_csv_buttons[it];
        fun_name = element.getAttribute('onclick');

        // windown['function']. To use check function from a string.
        if( window[fun_name] !== "function" ) {
            element.style.visibility = "hidden";
        }
    }
</script>
